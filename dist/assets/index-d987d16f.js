var Ln=Object.defineProperty;var Fn=(t,e,n)=>e in t?Ln(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var at=(t,e,n)=>(Fn(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(l){if(l.ep)return;l.ep=!0;const s=n(l);fetch(l.href,s)}})();function pe(){}const nt=t=>t;function on(t){return t()}function qt(){return Object.create(null)}function oe(t){t.forEach(on)}function He(t){return typeof t=="function"}function rn(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Pn(t){return Object.keys(t).length===0}const an=typeof window<"u";let pt=an?()=>window.performance.now():()=>Date.now(),gt=an?t=>requestAnimationFrame(t):pe;const ze=new Set;function un(t){ze.forEach(e=>{e.c(t)||(ze.delete(e),e.f())}),ze.size!==0&&gt(un)}function mt(t){let e;return ze.size===0&&gt(un),{promise:new Promise(n=>{ze.add(e={c:t,f:n})}),abort(){ze.delete(e)}}}function r(t,e){t.appendChild(e)}function cn(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Un(t){const e=f("style");return e.textContent="/* empty */",Hn(cn(t),e),e.sheet}function Hn(t,e){return r(t.head||t,e),e.sheet}function F(t,e,n){t.insertBefore(e,n||null)}function L(t){t.parentNode&&t.parentNode.removeChild(t)}function it(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function f(t){return document.createElement(t)}function X(t){return document.createTextNode(t)}function I(){return X(" ")}function fn(){return X("")}function q(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function c(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function de(t){return t===""?null:+t}function Wn(t){return Array.from(t.childNodes)}function be(t,e){e=""+e,t.data!==e&&(t.data=e)}function $(t,e){t.value=e??""}function ye(t,e,n){for(let i=0;i<t.options.length;i+=1){const l=t.options[i];if(l.__value===e){l.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function Je(t){const e=t.querySelector(":checked");return e&&e.__value}function Ie(t,e,n){t.classList.toggle(e,!!n)}function hn(t,e,{bubbles:n=!1,cancelable:i=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:i})}const Ke=new Map;let Qe=0;function Gn(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function Zn(t,e){const n={stylesheet:Un(e),rules:{}};return Ke.set(t,n),n}function Ye(t,e,n,i,l,s,o,a=0){const v=16.666/i;let _=`{
`;for(let m=0;m<=1;m+=v){const D=e+(n-e)*s(m);_+=m*100+`%{${o(D,1-D)}}
`}const h=_+`100% {${o(n,1-n)}}
}`,k=`__svelte_${Gn(h)}_${a}`,A=cn(t),{stylesheet:w,rules:g}=Ke.get(A)||Zn(A,t);g[k]||(g[k]=!0,w.insertRule(`@keyframes ${k} ${h}`,w.cssRules.length));const C=t.style.animation||"";return t.style.animation=`${C?`${C}, `:""}${k} ${i}ms linear ${l}ms 1 both`,Qe+=1,k}function $e(t,e){const n=(t.style.animation||"").split(", "),i=n.filter(e?s=>s.indexOf(e)<0:s=>s.indexOf("__svelte")===-1),l=n.length-i.length;l&&(t.style.animation=i.join(", "),Qe-=l,Qe||Xn())}function Xn(){gt(()=>{Qe||(Ke.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&L(e)}),Ke.clear())})}let Ue;function Pe(t){Ue=t}function dn(){if(!Ue)throw new Error("Function called outside component initialization");return Ue}function _n(t){dn().$$.on_mount.push(t)}function Jn(){const t=dn();return(e,n,{cancelable:i=!1}={})=>{const l=t.$$.callbacks[e];if(l){const s=hn(e,n,{cancelable:i});return l.slice().forEach(o=>{o.call(t,s)}),!s.defaultPrevented}return!0}}const De=[],xe=[];let Me=[];const ct=[],Vn=Promise.resolve();let ft=!1;function Kn(){ft||(ft=!0,Vn.then(pn))}function x(t){Me.push(t)}function Qn(t){ct.push(t)}const ut=new Set;let Ee=0;function pn(){if(Ee!==0)return;const t=Ue;do{try{for(;Ee<De.length;){const e=De[Ee];Ee++,Pe(e),Yn(e.$$)}}catch(e){throw De.length=0,Ee=0,e}for(Pe(null),De.length=0,Ee=0;xe.length;)xe.pop()();for(let e=0;e<Me.length;e+=1){const n=Me[e];ut.has(n)||(ut.add(n),n())}Me.length=0}while(De.length);for(;ct.length;)ct.pop()();ft=!1,ut.clear(),Pe(t)}function Yn(t){if(t.fragment!==null){t.update(),oe(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(x)}}function $n(t){const e=[],n=[];Me.forEach(i=>t.indexOf(i)===-1?e.push(i):n.push(i)),n.forEach(i=>i()),Me=e}let qe;function vt(){return qe||(qe=Promise.resolve(),qe.then(()=>{qe=null})),qe}function Se(t,e,n){t.dispatchEvent(hn(`${e?"intro":"outro"}${n}`))}const Ve=new Set;let _e;function Bt(){_e={r:0,c:[],p:_e}}function Lt(){_e.r||oe(_e.c),_e=_e.p}function me(t,e){t&&t.i&&(Ve.delete(t),t.i(e))}function Le(t,e,n,i){if(t&&t.o){if(Ve.has(t))return;Ve.add(t),_e.c.push(()=>{Ve.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}else i&&i()}const bt={duration:0};function xn(t,e,n){const i={direction:"in"};let l=e(t,n,i),s=!1,o,a,v=0;function _(){o&&$e(t,o)}function h(){const{delay:A=0,duration:w=300,easing:g=nt,tick:C=pe,css:m}=l||bt;m&&(o=Ye(t,0,1,w,A,g,m,v++)),C(0,1);const D=pt()+A,M=D+w;a&&a.abort(),s=!0,x(()=>Se(t,!0,"start")),a=mt(N=>{if(s){if(N>=M)return C(1,0),Se(t,!0,"end"),_(),s=!1;if(N>=D){const d=g((N-D)/w);C(d,1-d)}}return s})}let k=!1;return{start(){k||(k=!0,$e(t),He(l)?(l=l(i),vt().then(h)):h())},invalidate(){k=!1},end(){s&&(_(),s=!1)}}}function ei(t,e,n){const i={direction:"out"};let l=e(t,n,i),s=!0,o;const a=_e;a.r+=1;let v;function _(){const{delay:h=0,duration:k=300,easing:A=nt,tick:w=pe,css:g}=l||bt;g&&(o=Ye(t,1,0,k,h,A,g));const C=pt()+h,m=C+k;x(()=>Se(t,!1,"start")),"inert"in t&&(v=t.inert,t.inert=!0),mt(D=>{if(s){if(D>=m)return w(0,1),Se(t,!1,"end"),--a.r||oe(a.c),!1;if(D>=C){const M=A((D-C)/k);w(1-M,M)}}return s})}return He(l)?vt().then(()=>{l=l(i),_()}):_(),{end(h){h&&"inert"in t&&(t.inert=v),h&&l.tick&&l.tick(1,0),s&&(o&&$e(t,o),s=!1)}}}function Xe(t,e,n,i){let s=e(t,n,{direction:"both"}),o=i?0:1,a=null,v=null,_=null,h;function k(){_&&$e(t,_)}function A(g,C){const m=g.b-o;return C*=Math.abs(m),{a:o,b:g.b,d:m,duration:C,start:g.start,end:g.start+C,group:g.group}}function w(g){const{delay:C=0,duration:m=300,easing:D=nt,tick:M=pe,css:N}=s||bt,d={start:pt()+C,b:g};g||(d.group=_e,_e.r+=1),"inert"in t&&(g?h!==void 0&&(t.inert=h):(h=t.inert,t.inert=!0)),a||v?v=d:(N&&(k(),_=Ye(t,o,g,m,C,D,N)),g&&M(0,1),a=A(d,m),x(()=>Se(t,g,"start")),mt(S=>{if(v&&S>v.start&&(a=A(v,m),v=null,Se(t,a.b,"start"),N&&(k(),_=Ye(t,o,a.b,a.duration,0,D,s.css))),a){if(S>=a.end)M(o=a.b,1-o),Se(t,a.b,"end"),v||(a.b?k():--a.group.r||oe(a.group.c)),a=null;else if(S>=a.start){const j=S-a.start;o=a.a+a.d*D(j/a.duration),M(o,1-o)}}return!!(a||v)}))}return{run(g){He(s)?vt().then(()=>{s=s({direction:g?"in":"out"}),w(g)}):w(g)},end(){k(),a=v=null}}}function ae(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function gn(t,e){t.d(1),e.delete(t.key)}function mn(t,e,n,i,l,s,o,a,v,_,h,k){let A=t.length,w=s.length,g=A;const C={};for(;g--;)C[t[g].key]=g;const m=[],D=new Map,M=new Map,N=[];for(g=w;g--;){const R=k(l,s,g),O=n(R);let T=o.get(O);T?i&&N.push(()=>T.p(R,e)):(T=_(O,R),T.c()),D.set(O,m[g]=T),O in C&&M.set(O,Math.abs(g-C[O]))}const d=new Set,S=new Set;function j(R){me(R,1),R.m(a,h),o.set(R.key,R),h=R.first,w--}for(;A&&w;){const R=m[w-1],O=t[A-1],T=R.key,J=O.key;R===O?(h=R.first,A--,w--):D.has(J)?!o.has(T)||d.has(T)?j(R):S.has(J)?A--:M.get(T)>M.get(J)?(S.add(T),j(R)):(d.add(J),A--):(v(O,o),A--)}for(;A--;){const R=t[A];D.has(R.key)||v(R,o)}for(;w;)j(m[w-1]);return oe(N),m}function ti(t,e,n){const i=t.$$.props[e];i!==void 0&&(t.$$.bound[i]=n,n(t.$$.ctx[i]))}function ni(t){t&&t.c()}function vn(t,e,n){const{fragment:i,after_update:l}=t.$$;i&&i.m(e,n),x(()=>{const s=t.$$.on_mount.map(on).filter(He);t.$$.on_destroy?t.$$.on_destroy.push(...s):oe(s),t.$$.on_mount=[]}),l.forEach(x)}function bn(t,e){const n=t.$$;n.fragment!==null&&($n(n.after_update),oe(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ii(t,e){t.$$.dirty[0]===-1&&(De.push(t),Kn(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function kn(t,e,n,i,l,s,o,a=[-1]){const v=Ue;Pe(t);const _=t.$$={fragment:null,ctx:[],props:s,update:pe,not_equal:l,bound:qt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(v?v.$$.context:[])),callbacks:qt(),dirty:a,skip_bound:!1,root:e.target||v.$$.root};o&&o(_.root);let h=!1;if(_.ctx=n?n(t,e.props||{},(k,A,...w)=>{const g=w.length?w[0]:A;return _.ctx&&l(_.ctx[k],_.ctx[k]=g)&&(!_.skip_bound&&_.bound[k]&&_.bound[k](g),h&&ii(t,k)),A}):[],_.update(),h=!0,oe(_.before_update),_.fragment=i?i(_.ctx):!1,e.target){if(e.hydrate){const k=Wn(e.target);_.fragment&&_.fragment.l(k),k.forEach(L)}else _.fragment&&_.fragment.c();e.intro&&me(t.$$.fragment),vn(t,e.target,e.anchor),pn()}Pe(v)}class yn{constructor(){at(this,"$$");at(this,"$$set")}$destroy(){bn(this,1),this.$destroy=pe}$on(e,n){if(!He(n))return pe;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const l=i.indexOf(n);l!==-1&&i.splice(l,1)}}$set(e){this.$$set&&!Pn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const li="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(li);const ke={NONE:"--",D4:"d4",D6:"d6",D8:"d8",D10:"d10",D12:"d12"},Z=9007199254740992,Be=Z-1,et=-1>>>0,ue=et+1,tt=ue/2,We=1<<21,Ce=We-1;function kt(t){return t.next()|0}function ve(t,e){return e===0?t:n=>t(n)+e}function ht(t){const e=t.next()|0,n=t.next()>>>0;return(e&Ce)*ue+n+(e&We?-Z:0)}function wn(t){for(;;){const e=t.next()|0;if(e&4194304){if((e&8388607)===4194304&&!(t.next()|0))return Z}else{const n=t.next()>>>0;return(e&Ce)*ue+n+(e&We?-Z:0)}}}function Sn(t){return t.next()>>>0}function lt(t){const e=t.next()&Ce,n=t.next()>>>0;return e*ue+n}function yt(t){for(;;){const e=t.next()|0;if(e&We){if(!(e&Ce)&&!(t.next()|0))return Z}else{const n=t.next()>>>0;return(e&Ce)*ue+n}}}function Cn(t){return(t+1&t)===0}function si(t){return e=>e.next()&t}function oi(t){const e=t+1,n=e*Math.floor(ue/e);return i=>{let l=0;do l=i.next()>>>0;while(l>=n);return l%e}}function ri(t){return Cn(t)?si(t):oi(t)}function ai(t){return(t|0)===0}function ui(t){return e=>{const n=e.next()&t,i=e.next()>>>0;return n*ue+i}}function ci(t){const e=t*Math.floor(Z/t);return n=>{let i=0;do{const l=n.next()&Ce,s=n.next()>>>0;i=l*ue+s}while(i>=e);return i%t}}function fi(t){const e=t+1;if(ai(e)){const n=(e/ue|0)-1;if(Cn(n))return ui(n)}return ci(e)}function Ft(t,e){return n=>{let i=0;do{const l=n.next()|0,s=n.next()>>>0;i=(l&Ce)*ue+s+(l&We?-Z:0)}while(i<t||i>e);return i}}function je(t,e){if(t=Math.floor(t),e=Math.floor(e),t<-Z||!isFinite(t))throw new RangeError(`Expected min to be at least ${-Z}`);if(e>Z||!isFinite(e))throw new RangeError(`Expected max to be at most ${Z}`);const n=e-t;return n<=0||!isFinite(n)?()=>t:n===et?t===0?Sn:ve(kt,t+tt):n<et?ve(ri(n),t):n===Be?ve(lt,t):n<Be?ve(fi(n),t):e-1-t===Be?ve(yt,t):t===-Z&&e===Z?wn:t===-Z&&e===Be?ht:t===-Be&&e===Z?ve(ht,1):e===Z?ve(Ft(t-1,e-1),1):Ft(t,e)}function hi(t){return(t.next()&1)===1}function dt(t,e){return n=>t(n)<e}function di(t){if(t<=0)return()=>!1;if(t>=1)return()=>!0;{const e=t*ue;return e%1===0?dt(kt,e-tt|0):dt(lt,Math.round(t*Z))}}function _i(t,e){return e==null?t==null?hi:di(t):t<=0?()=>!1:t>=e?()=>!0:dt(je(0,e-1),t)}function pi(t,e){const n=je(+t,+e);return i=>new Date(n(i))}function jn(t){return je(1,t)}function gi(t,e){const n=jn(t);return i=>{const l=[];for(let s=0;s<e;++s)l.push(n(i));return l}}const mi="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_-";function wt(t=mi){const e=t.length;if(!e)throw new Error("Expected pool not to be an empty string");const n=je(0,e-1);return(i,l)=>{let s="";for(let o=0;o<l;++o){const a=n(i);s+=t.charAt(a)}return s}}const An="0123456789abcdef",vi=wt(An),bi=wt(An.toUpperCase());function ki(t){return t?bi:vi}function Pt(t,e){return t<0?Math.max(t+e,0):Math.min(t,e)}function Ut(t){const e=+t;return e<0?Math.ceil(e):Math.floor(e)}function yi(t,e,n,i){const l=e.length;if(l===0)throw new RangeError("Cannot pick from an empty array");const s=n==null?0:Pt(Ut(n),l),o=i===void 0?l:Pt(Ut(i),l);if(s>=o)throw new RangeError(`Cannot pick between bounds ${s} and ${o}`);const a=je(s,o-1);return e[a(t)]}function wi(t,e){return e===1?t:e===0?()=>0:n=>t(n)*e}function En(t){return lt(t)/Z}function Nn(t){return yt(t)/Z}function Si(t,e,n=!1){if(isFinite(t)){if(!isFinite(e))throw new RangeError("Expected max to be a finite number")}else throw new RangeError("Expected min to be a finite number");return ve(wi(n?Nn:En,e-t),t)}const Ci=Array.prototype.slice;function _t(t,e,n=0){const i=e.length;if(i)for(let l=i-1>>>0;l>n;--l){const o=je(0,l)(t);if(l!==o){const a=e[l];e[l]=e[o],e[o]=a}}return e}function ji(t,e,n){if(n<0||n>e.length||!isFinite(n))throw new RangeError("Expected sampleSize to be within 0 and the length of the population");if(n===0)return[];const i=Ci.call(e),l=i.length;if(l===n)return _t(t,i,0);const s=l-n;return _t(t,i,s-1).slice(s)}const Ai=(()=>{try{if("x".repeat(3)==="xxx")return(t,e)=>t.repeat(e)}catch{}return(t,e)=>{let n="";for(;e>0;)e&1&&(n+=t),e>>=1,t+=t;return n}})();function Ne(t,e){return Ai("0",e-t.length)+t}function Ei(t){const e=t.next()>>>0,n=t.next()|0,i=t.next()|0,l=t.next()>>>0;return Ne(e.toString(16),8)+"-"+Ne((n&65535).toString(16),4)+"-"+Ne((n>>4&4095|16384).toString(16),4)+"-"+Ne((i&16383|32768).toString(16),4)+"-"+Ne((i>>4&65535).toString(16),4)+Ne(l.toString(16),8)}const Ni={next(){return Math.random()*ue|0}};class Di{constructor(e=Ni){this.engine=e}int32(){return kt(this.engine)}uint32(){return Sn(this.engine)}uint53(){return lt(this.engine)}uint53Full(){return yt(this.engine)}int53(){return ht(this.engine)}int53Full(){return wn(this.engine)}integer(e,n){return je(e,n)(this.engine)}realZeroToOneInclusive(){return Nn(this.engine)}realZeroToOneExclusive(){return En(this.engine)}real(e,n,i=!1){return Si(e,n,i)(this.engine)}bool(e,n){return _i(e,n)(this.engine)}pick(e,n,i){return yi(this.engine,e,n,i)}shuffle(e){return _t(this.engine,e)}sample(e,n){return ji(this.engine,e,n)}die(e){return jn(e)(this.engine)}dice(e,n){return gi(e,n)(this.engine)}uuid4(){return Ei(this.engine)}string(e,n){return wt(n)(this.engine,e)}hex(e,n){return ki(n)(this.engine,e)}date(e,n){return pi(e,n)(this.engine)}}(()=>{try{const t=new ArrayBuffer(4),e=new Int32Array(t);if(e[0]=tt,e[0]===-tt)return Int32Array}catch{}return Array})();(()=>{try{if(Math.imul(et,5)===-5)return Math.imul}catch{}const t=65535;return(e,n)=>{const i=e>>>16&t,l=e&t,s=n>>>16&t,o=n&t;return l*o+(i*o+l*s<<16>>>0)|0}})();function Ii(t){const e=t-1;return e*e*e+1}function Fe(t,{delay:e=0,duration:n=400,easing:i=nt}={}){const l=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:i,css:s=>`opacity: ${s*l}`}}function zi(t,{delay:e=0,duration:n=400,easing:i=Ii,axis:l="y"}={}){const s=getComputedStyle(t),o=+s.opacity,a=l==="y"?"height":"width",v=parseFloat(s[a]),_=l==="y"?["top","bottom"]:["left","right"],h=_.map(D=>`${D[0].toUpperCase()}${D.slice(1)}`),k=parseFloat(s[`padding${h[0]}`]),A=parseFloat(s[`padding${h[1]}`]),w=parseFloat(s[`margin${h[0]}`]),g=parseFloat(s[`margin${h[1]}`]),C=parseFloat(s[`border${h[0]}Width`]),m=parseFloat(s[`border${h[1]}Width`]);return{delay:e,duration:n,easing:i,css:D=>`overflow: hidden;opacity: ${Math.min(D*20,1)*o};${a}: ${D*v}px;padding-${_[0]}: ${D*k}px;padding-${_[1]}: ${D*A}px;margin-${_[0]}: ${D*w}px;margin-${_[1]}: ${D*g}px;border-${_[0]}-width: ${D*C}px;border-${_[1]}-width: ${D*m}px;`}}function Ht(t,e,n){const i=t.slice();return i[33]=e[n],i[34]=e,i[35]=n,i}function Wt(t,e,n){const i=t.slice();return i[36]=e[n],i[37]=e,i[38]=n,i}function Gt(t,e,n){const i=t.slice();return i[39]=e[n],i}function Zt(t,e,n){const i=t.slice();return i[39]=e[n],i}function Xt(t){let e,n,i;return{c(){e=f("a"),n=X("Go"),c(e,"href",i=t[33].info.split(" ").find(xt)),c(e,"target","_blank"),c(e,"class","info-btn svelte-12j015h")},m(l,s){F(l,e,s),r(e,n)},p(l,s){s[0]&1&&i!==(i=l[33].info.split(" ").find(xt))&&c(e,"href",i)},d(l){l&&L(e)}}}function Jt(t){let e,n=t[39]+"",i;return{c(){e=f("option"),i=X(n),e.__value=t[39],$(e,e.__value),c(e,"class","svelte-12j015h")},m(l,s){F(l,e,s),r(e,i)},p:pe,d(l){l&&L(e)}}}function Vt(t){let e,n=ae(t[33].extraAttacks),i=[];for(let l=0;l<n.length;l+=1)i[l]=Qt(Wt(t,n,l));return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=fn()},m(l,s){for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(l,s);F(l,e,s)},p(l,s){if(s[0]&65){n=ae(l[33].extraAttacks);let o;for(o=0;o<n.length;o+=1){const a=Wt(l,n,o);i[o]?i[o].p(a,s):(i[o]=Qt(a),i[o].c(),i[o].m(e.parentNode,e))}for(;o<i.length;o+=1)i[o].d(1);i.length=n.length}},d(l){l&&L(e),it(i,l)}}}function Kt(t){let e,n=t[39]+"",i;return{c(){e=f("option"),i=X(n),e.__value=t[39],$(e,e.__value),c(e,"class","svelte-12j015h")},m(l,s){F(l,e,s),r(e,i)},p:pe,d(l){l&&L(e)}}}function Qt(t){let e,n,i,l,s,o,a,v,_,h,k,A,w,g,C=ae(Object.values(ke)),m=[];for(let d=0;d<C.length;d+=1)m[d]=Kt(Gt(t,C,d));function D(){t[26].call(s,t[37],t[38])}function M(){t[27].call(v,t[37],t[38])}function N(){return t[28](t[36],t[33],t[37],t[38])}return{c(){e=f("tr"),n=f("td"),i=I(),l=f("td"),s=f("select");for(let d=0;d<m.length;d+=1)m[d].c();o=I(),a=f("td"),v=f("input"),_=I(),h=f("td"),k=f("button"),k.textContent="Roll Initiative",A=I(),c(n,"class","empty svelte-12j015h"),c(s,"class","svelte-12j015h"),t[36].initiativeDie===void 0&&x(D),c(l,"class","svelte-12j015h"),c(v,"type","number"),c(v,"min","0"),c(v,"max","10"),c(v,"class","svelte-12j015h"),c(a,"class","svelte-12j015h"),c(k,"class","highlighted svelte-12j015h"),c(h,"colspan","5"),c(h,"class","svelte-12j015h"),c(e,"class","extra-attacks svelte-12j015h"),Ie(e,"dead",!t[33].alive)},m(d,S){F(d,e,S),r(e,n),r(e,i),r(e,l),r(l,s);for(let j=0;j<m.length;j+=1)m[j]&&m[j].m(s,null);ye(s,t[36].initiativeDie,!0),r(e,o),r(e,a),r(a,v),$(v,t[36].initiativeSeg),r(e,_),r(e,h),r(h,k),r(e,A),w||(g=[q(s,"change",D),q(v,"input",M),q(k,"click",N)],w=!0)},p(d,S){if(t=d,S&0){C=ae(Object.values(ke));let j;for(j=0;j<C.length;j+=1){const R=Gt(t,C,j);m[j]?m[j].p(R,S):(m[j]=Kt(R),m[j].c(),m[j].m(s,null))}for(;j<m.length;j+=1)m[j].d(1);m.length=C.length}S[0]&1&&ye(s,t[36].initiativeDie),S[0]&1&&de(v.value)!==t[36].initiativeSeg&&$(v,t[36].initiativeSeg),S[0]&1&&Ie(e,"dead",!t[33].alive)},d(d){d&&L(e),it(m,d),w=!1,oe(g)}}}function Yt(t,e){var Mt,Rt;let n,i,l=e[33].number+"",s,o,a,v,_,h,k,A=(Mt=e[33].info)==null?void 0:Mt.includes("http"),w,g,C,m,D,M,N,d,S,j,R,O,T,J,W,le,V,se,K,P,ee,G,Q,u,p,b,E,y=e[33].alive?"Mark Dead":"Mark Alive",z,U,he,ce,Y,st,St,Ge,ge,Ct,Ze,fe,jt,Re,Te,ot,Oe,rt,At;function Et(){e[12].call(a,e[34],e[35])}function Nt(){e[13].call(h,e[34],e[35])}let ne=A&&Xt(e);function Dt(){e[14].call(g,e[34],e[35])}function It(){e[15].call(m,e[34],e[35])}function Dn(){e[16].call(N,e[34],e[35])}function In(){e[17].call(j,e[34],e[35])}function zn(){e[18].call(T,e[34],e[35])}function Mn(){return e[19](e[33],e[34],e[35])}function Rn(){return e[20](e[33])}function Tn(){return e[21](e[33],e[34],e[35])}function On(){return e[22](e[33])}let Ae=ae(Object.values(ke)),te=[];for(let H=0;H<Ae.length;H+=1)te[H]=Jt(Zt(e,Ae,H));function zt(){e[23].call(ge,e[34],e[35])}function qn(){e[24].call(fe,e[34],e[35])}function Bn(){return e[25](e[33],e[34],e[35])}let ie=((Rt=e[33].extraAttacks)==null?void 0:Rt.length)&&Vt(e);return{key:t,first:null,c(){n=f("tr"),i=f("td"),s=X(l),o=I(),a=f("td"),v=I(),_=f("td"),h=f("div"),k=I(),ne&&ne.c(),w=I(),g=f("td"),C=I(),m=f("td"),D=I(),M=f("td"),N=f("input"),d=I(),S=f("td"),j=f("input"),R=I(),O=f("td"),T=f("input"),J=I(),W=f("tr"),le=f("th"),V=I(),se=f("th"),se.textContent="Initiative Die",K=I(),P=f("th"),P.textContent="Initiative Segment",ee=I(),G=f("td"),Q=f("button"),Q.textContent="Add Split Initiative Attack",u=I(),p=f("button"),p.textContent="Delete",b=I(),E=f("button"),z=X(y),U=I(),he=f("button"),he.textContent="Copy Monster",ce=I(),Y=f("tr"),st=f("td"),St=I(),Ge=f("td"),ge=f("select");for(let H=0;H<te.length;H+=1)te[H].c();Ct=I(),Ze=f("td"),fe=f("input"),jt=I(),Re=f("td"),Te=f("button"),Te.textContent="Roll Initiative",ot=I(),ie&&ie.c(),Oe=fn(),c(i,"class","svelte-12j015h"),c(a,"contenteditable",""),c(a,"class","svelte-12j015h"),e[33].name===void 0&&x(Et),c(h,"contenteditable",""),c(h,"class","svelte-12j015h"),e[33].info===void 0&&x(Nt),c(_,"class","info svelte-12j015h"),c(g,"contenteditable",""),c(g,"class","svelte-12j015h"),e[33].target===void 0&&x(Dt),c(m,"contenteditable",""),c(m,"class","svelte-12j015h"),e[33].status===void 0&&x(It),c(N,"type","number"),c(N,"class","svelte-12j015h"),c(M,"class","svelte-12j015h"),c(j,"type","number"),c(j,"class","svelte-12j015h"),c(S,"class","svelte-12j015h"),c(T,"type","number"),c(T,"class","svelte-12j015h"),c(O,"class","svelte-12j015h"),c(n,"class","monster svelte-12j015h"),Ie(n,"dead",!e[33].alive),c(le,"class","empty svelte-12j015h"),c(se,"class","svelte-12j015h"),c(P,"class","svelte-12j015h"),c(Q,"class","svelte-12j015h"),c(p,"class","svelte-12j015h"),c(E,"class","svelte-12j015h"),c(he,"class","svelte-12j015h"),c(G,"colspan","5"),c(G,"class","btn-td svelte-12j015h"),c(st,"class","empty svelte-12j015h"),c(ge,"class","svelte-12j015h"),e[33].initiativeDie===void 0&&x(zt),c(Ge,"class","svelte-12j015h"),c(fe,"type","number"),c(fe,"min","0"),c(fe,"max","10"),c(fe,"class","svelte-12j015h"),c(Ze,"class","svelte-12j015h"),c(Te,"class","highlighted svelte-12j015h"),c(Re,"colspan","5"),c(Re,"class","svelte-12j015h"),c(Y,"class","base-attacks svelte-12j015h"),Ie(Y,"dead",!e[33].alive),this.first=n},m(H,B){F(H,n,B),r(n,i),r(i,s),r(n,o),r(n,a),e[33].name!==void 0&&(a.textContent=e[33].name),r(n,v),r(n,_),r(_,h),e[33].info!==void 0&&(h.textContent=e[33].info),r(_,k),ne&&ne.m(_,null),r(n,w),r(n,g),e[33].target!==void 0&&(g.textContent=e[33].target),r(n,C),r(n,m),e[33].status!==void 0&&(m.textContent=e[33].status),r(n,D),r(n,M),r(M,N),$(N,e[33].hp),r(n,d),r(n,S),r(S,j),$(j,e[33].ac),r(n,R),r(n,O),r(O,T),$(T,e[33].dexBonus),F(H,J,B),F(H,W,B),r(W,le),r(W,V),r(W,se),r(W,K),r(W,P),r(W,ee),r(W,G),r(G,Q),r(G,u),r(G,p),r(G,b),r(G,E),r(E,z),r(G,U),r(G,he),F(H,ce,B),F(H,Y,B),r(Y,st),r(Y,St),r(Y,Ge),r(Ge,ge);for(let we=0;we<te.length;we+=1)te[we]&&te[we].m(ge,null);ye(ge,e[33].initiativeDie,!0),r(Y,Ct),r(Y,Ze),r(Ze,fe),$(fe,e[33].initiativeSeg),r(Y,jt),r(Y,Re),r(Re,Te),F(H,ot,B),ie&&ie.m(H,B),F(H,Oe,B),rt||(At=[q(a,"input",Et),q(h,"input",Nt),q(g,"input",Dt),q(m,"input",It),q(N,"input",Dn),q(j,"input",In),q(T,"input",zn),q(Q,"click",Mn),q(p,"click",Rn),q(E,"click",Tn),q(he,"click",On),q(ge,"change",zt),q(fe,"input",qn),q(Te,"click",Bn)],rt=!0)},p(H,B){var we,Tt;if(e=H,B[0]&1&&l!==(l=e[33].number+"")&&be(s,l),B[0]&1&&e[33].name!==a.textContent&&(a.textContent=e[33].name),B[0]&1&&e[33].info!==h.textContent&&(h.textContent=e[33].info),B[0]&1&&(A=(we=e[33].info)==null?void 0:we.includes("http")),A?ne?ne.p(e,B):(ne=Xt(e),ne.c(),ne.m(_,null)):ne&&(ne.d(1),ne=null),B[0]&1&&e[33].target!==g.textContent&&(g.textContent=e[33].target),B[0]&1&&e[33].status!==m.textContent&&(m.textContent=e[33].status),B[0]&1&&de(N.value)!==e[33].hp&&$(N,e[33].hp),B[0]&1&&de(j.value)!==e[33].ac&&$(j,e[33].ac),B[0]&1&&de(T.value)!==e[33].dexBonus&&$(T,e[33].dexBonus),B[0]&1&&Ie(n,"dead",!e[33].alive),B[0]&1&&y!==(y=e[33].alive?"Mark Dead":"Mark Alive")&&be(z,y),B&0){Ae=ae(Object.values(ke));let re;for(re=0;re<Ae.length;re+=1){const Ot=Zt(e,Ae,re);te[re]?te[re].p(Ot,B):(te[re]=Jt(Ot),te[re].c(),te[re].m(ge,null))}for(;re<te.length;re+=1)te[re].d(1);te.length=Ae.length}B[0]&1&&ye(ge,e[33].initiativeDie),B[0]&1&&de(fe.value)!==e[33].initiativeSeg&&$(fe,e[33].initiativeSeg),B[0]&1&&Ie(Y,"dead",!e[33].alive),(Tt=e[33].extraAttacks)!=null&&Tt.length?ie?ie.p(e,B):(ie=Vt(e),ie.c(),ie.m(Oe.parentNode,Oe)):ie&&(ie.d(1),ie=null)},d(H){H&&(L(n),L(J),L(W),L(ce),L(Y),L(ot),L(Oe)),ne&&ne.d(),it(te,H),ie&&ie.d(H),rt=!1,oe(At)}}}function $t(t){let e,n,i;return{c(){e=f("button"),e.textContent="Next Round",c(e,"class","next highlighted svelte-12j015h")},m(l,s){F(l,e,s),n||(i=q(e,"click",t[31]),n=!0)},p:pe,d(l){l&&L(e),n=!1,i()}}}function Mi(t){let e,n,i,l=t[0].roundNumber+"",s,o,a,v,_,h,k,A,w,g,C,m,D,M,N,d,S=[],j=new Map,R,O,T,J,W,le,V,se,K,P,ee,G,Q,u=ae(t[0].monsters);const p=E=>E[33].number;for(let E=0;E<u.length;E+=1){let y=Ht(t,u,E),z=p(y);j.set(z,S[E]=Yt(z,y))}let b=t[1]&&$t(t);return{c(){e=f("section"),n=f("h2"),i=X("Round "),s=X(l),o=I(),a=f("div"),v=f("label"),_=X("Sort by: "),h=f("select"),k=f("option"),k.textContent="Monster #",A=f("option"),A.textContent="Name",w=f("option"),w.textContent="Earliest Initiative Segment",g=I(),C=f("button"),C.textContent="Roll All Initiatives",m=I(),D=f("table"),M=f("thead"),M.innerHTML='<tr><th class="svelte-12j015h">Monster #</th> <th class="svelte-12j015h">Name</th> <th class="svelte-12j015h">Info</th> <th class="svelte-12j015h">Target</th> <th class="svelte-12j015h">Status</th> <th class="svelte-12j015h">HP</th> <th class="svelte-12j015h">AC</th> <th class="svelte-12j015h">Dex Bonus</th></tr>',N=I(),d=f("tbody");for(let E=0;E<S.length;E+=1)S[E].c();R=I(),O=f("div"),T=f("button"),T.textContent="Add New Monster",J=I(),W=f("button"),W.textContent="Roll All Initiatives",le=I(),b&&b.c(),se=I(),K=f("hr"),k.__value="number",$(k,k.__value),A.__value="name",$(A,A.__value),w.__value="seg",$(w,w.__value),t[3]===void 0&&x(()=>t[9].call(h)),c(v,"class","sort"),c(C,"class","highlighted"),c(a,"class","buttons svelte-12j015h"),c(M,"class","svelte-12j015h"),c(d,"class","svelte-12j015h"),c(D,"class","svelte-12j015h"),c(W,"class","highlighted"),c(O,"class","buttons svelte-12j015h"),c(e,"class","round"),c(K,"class","svelte-12j015h")},m(E,y){F(E,e,y),r(e,n),r(n,i),r(n,s),t[8](n),r(e,o),r(e,a),r(a,v),r(v,_),r(v,h),r(h,k),r(h,A),r(h,w),ye(h,t[3],!0),r(a,g),r(a,C),r(e,m),r(e,D),r(D,M),r(D,N),r(D,d);for(let z=0;z<S.length;z+=1)S[z]&&S[z].m(d,null);r(e,R),r(e,O),r(O,T),r(O,J),r(O,W),r(O,le),b&&b.m(O,null),F(E,se,y),F(E,K,y),ee=!0,G||(Q=[q(h,"change",t[9]),q(h,"change",t[10]),q(C,"click",t[11]),q(T,"click",t[29]),q(W,"click",t[30])],G=!0)},p(E,y){(!ee||y[0]&1)&&l!==(l=E[0].roundNumber+"")&&be(s,l),y[0]&8&&ye(h,E[3]),y[0]&197&&(u=ae(E[0].monsters),S=mn(S,y,p,1,E,u,j,d,gn,Yt,null,Ht)),E[1]?b?b.p(E,y):(b=$t(E),b.c(),b.m(O,null)):b&&(b.d(1),b=null)},i(E){ee||(E&&x(()=>{ee&&(V||(V=Xe(e,Fe,{duration:500},!0)),V.run(1))}),E&&x(()=>{ee&&(P||(P=Xe(K,Fe,{duration:500},!0)),P.run(1))}),ee=!0)},o(E){E&&(V||(V=Xe(e,Fe,{duration:500},!1)),V.run(0)),E&&(P||(P=Xe(K,Fe,{duration:500},!1)),P.run(0)),ee=!1},d(E){E&&(L(e),L(se),L(K)),t[8](null);for(let y=0;y<S.length;y+=1)S[y].d();b&&b.d(),E&&V&&V.end(),E&&P&&P.end(),G=!1,oe(Q)}}}const xt=t=>t.startsWith("http");function Ri(t,e,n){let{round:i}=e,{current:l}=e,{autoSort:s=!1}=e,o,a;const v=Jn(),_=new Di;_n(()=>{a&&a.scrollIntoView({behavior:"smooth",block:"center"})});function h({initiativeDie:u,dexBonus:p}){if(u===ke.NONE)return;const E=_.die(parseInt(u.slice(1)))-p;return E<0?0:E>10?10:E}function k(){n(0,i.monsters=i.monsters.sort((u,p)=>{var b,E;if((b=u.extraAttacks)!=null&&b.length||(E=p.extraAttacks)!=null&&E.length){const z=[u.initiativeSeg,...u.extraAttacks.map(ce=>ce.initiativeSeg)].sort((ce,Y)=>ce-Y)[0],he=[p.initiativeSeg,...p.extraAttacks.map(ce=>ce.initiativeSeg)].sort((ce,Y)=>ce-Y)[0];return z-he}return u.initiativeSeg-p.initiativeSeg}),i)}function A(u){xe[u?"unshift":"push"](()=>{a=u,n(4,a)})}function w(){o=Je(this),n(3,o)}const g=()=>{switch(o){case"number":n(0,i.monsters=i.monsters.sort((u,p)=>u.number-p.number),i);break;case"name":n(0,i.monsters=i.monsters.sort((u,p)=>{const b=u.name.toUpperCase(),E=p.name.toUpperCase();return b<E?-1:b>E?1:0}),i);break;case"seg":k();break}},C=()=>{n(0,i.monsters=i.monsters.map(u=>{var p;return{...u,initiativeSeg:h({initiativeDie:u.initiativeDie,dexBonus:u.dexBonus}),extraAttacks:(p=u.extraAttacks)==null?void 0:p.map(b=>({...b,initiativeSeg:h({initiativeDie:b.initiativeDie,dexBonus:u.dexBonus})}))}}),i),s&&(k(),n(3,o="seg"))};function m(u,p){u[p].name=this.textContent,n(0,i)}function D(u,p){u[p].info=this.textContent,n(0,i)}function M(u,p){u[p].target=this.textContent,n(0,i)}function N(u,p){u[p].status=this.textContent,n(0,i)}function d(u,p){u[p].hp=de(this.value),n(0,i)}function S(u,p){u[p].ac=de(this.value),n(0,i)}function j(u,p){u[p].dexBonus=de(this.value),n(0,i)}const R=(u,p,b)=>{n(0,p[b].extraAttacks=[...u.extraAttacks,{initiativeDie:ke.NONE}],i)},O=u=>{n(0,i.monsters=i.monsters.filter(({number:p})=>p!==u.number),i)},T=(u,p,b)=>{n(0,p[b].alive=!u.alive,i)},J=u=>{var b;const p={...u,number:i.monsters.length+1,alive:!0,initiativeSeg:void 0,extraAttacks:(b=u.extraAttacks)==null?void 0:b.map(E=>({...E,initiativeSeg:void 0}))};n(0,i.monsters=[...i.monsters,p],i)};function W(u,p){u[p].initiativeDie=Je(this),n(0,i)}function le(u,p){u[p].initiativeSeg=de(this.value),n(0,i)}const V=(u,p,b)=>{n(0,p[b].initiativeSeg=h({initiativeDie:u.initiativeDie,dexBonus:u.dexBonus}),i),s&&k()};function se(u,p){u[p].initiativeDie=Je(this),n(0,i)}function K(u,p){u[p].initiativeSeg=de(this.value),n(0,i)}const P=(u,p,b,E)=>{n(0,b[E].initiativeSeg=h({initiativeDie:u.initiativeDie,dexBonus:p.dexBonus}),i)},ee=()=>{const u={number:i.monsters.length+1,alive:!0,name:"",target:"",initiativeDie:ke.NONE,dexBonus:0,extraAttacks:[],status:"",info:""};n(0,i.monsters=[...i.monsters,u],i)},G=()=>{n(0,i.monsters=i.monsters.map(u=>{var p;return{...u,initiativeSeg:h({initiativeDie:u.initiativeDie,dexBonus:u.dexBonus}),extraAttacks:(p=u.extraAttacks)==null?void 0:p.map(b=>({...b,initiativeSeg:h({initiativeDie:b.initiativeDie,dexBonus:u.dexBonus})}))}}),i),s&&(k(),n(3,o="seg"))},Q=()=>{const u={roundNumber:i.roundNumber+1,monsters:i.monsters.map(p=>({...p,initiativeSeg:void 0,extraAttacks:p.extraAttacks.map(b=>({...b,initiativeSeg:void 0}))})).sort((p,b)=>p.number-b.number)};v("next",u)};return t.$$set=u=>{"round"in u&&n(0,i=u.round),"current"in u&&n(1,l=u.current),"autoSort"in u&&n(2,s=u.autoSort)},[i,l,s,o,a,v,h,k,A,w,g,C,m,D,M,N,d,S,j,R,O,T,J,W,le,V,se,K,P,ee,G,Q]}class Ti extends yn{constructor(e){super(),kn(this,e,Ri,Mi,rn,{round:0,current:1,autoSort:2},null,[-1,-1])}}function en(t,e,n){const i=t.slice();return i[16]=e[n],i[17]=e,i[18]=n,i}function tn(t,e,n){const i=t.slice();return i[19]=e[n],i}function Oi(t){let e;return{c(){e=f("aside"),e.innerHTML=`<details class="svelte-1elqzzh"><summary class="svelte-1elqzzh">About this initiative system</summary> <p class="svelte-1elqzzh">This initiative system was created by my DM&#39;s DM in the 1980&#39;s for 1st
        edition AD&amp;D. I have adapted it for 5E using the house rules below. The
        advantages of this system are that the action being taken effects how
        fast a character goes instead of just their dex, that the initiative
        order changes every round, and that it eliminates 5E Concentration in
        favor of a return to casting times.</p> <strong class="details-heading svelte-1elqzzh">Time:</strong> <p class="svelte-1elqzzh">How quickly action happens in combat has sped up between 1st ed and 5E,
        but to make this system work we need to revert to the old timing:</p> <ul class="svelte-1elqzzh"><li>1 round = 1 minute</li> <li>1 segment = 6 seconds</li> <li>There are 10 segments per round + the “0” segment <br/>
          Going in zero basically means the character managed to finish any setup
          at the end of the last round. This does not include casting time. They
          can start casting in the zero segment but a spell will never go off before
          segment 1.</li> <li>If a 1st ed spell or other source lists time in turns, they mean 1
          turn = 10 minutes, otherwise “turn” just means “when you take your
          next action.”</li> <li>5E combat-related spells with the listed duration of 1 minute will
          have a 10 minute duration.</li></ul> <strong class="details-heading svelte-1elqzzh">Combat sequence:</strong> <p class="svelte-1elqzzh">Each round, everyone rolls Initiative based on what they plan to do:</p> <ul class="svelte-1elqzzh"><li><strong>Weapon Attacks:</strong> damage die - Dex mod<br/>

          I typically ignore the number of dice cast; if an attack does 2d8,
          just roll 1d8 for initiative. The idea is that larger weapons are
          slower, if this formulation doesn&#39;t make sense, pick something
          reasonable. For instance, if something does 2d4 damage, 1d8 probably
          makes the most sense for initiative.</li> <li><strong>Spells:</strong> 1d4 - Dex mod<br/>

          The initiative roll denotes when the character can start casting. Add
          the casting time to determine when the spell takes effect. Casting
          time is typically 1 segment per spell level, see 1st ed version of the
          spell for outliers, or DM&#39;s call. Cantrips typically have a casting
          time of 0 segments and go off immediately. The player may choose
          whether the rest of their turn happens before or after casting. The
          character may not do anything else during casting.</li> <li><strong>Other:</strong> 1d10 - Dex mod</li></ul> <p class="svelte-1elqzzh">The DM goes through the round segment by segment. When the segment #
        rolled for an initiative is called, that character may take their turn
        (Move, take their Action and take their Bonus Action), or choose to hold
        until a later segment in the same round. A spellcaster may hold off on
        beginning to cast a spell or completing it, but if they are holding
        completion they are vulnerable to losing concentration if they take
        damage.</p> <p class="svelte-1elqzzh">If the player changes their mind mid-round they may switch weapons or
        spells with a 1 segment penalty. If you switch spells or switch to a
        non-spell action after you have started casting a spell, the original
        spell slot is lost.</p> <strong class="details-heading svelte-1elqzzh">Spell Casting Concentration:</strong> <p class="svelte-1elqzzh">If a spellcaster takes damage during casting, they must save or lose the
        spell (it does not take effect and they are down the spell slot).</p> <p class="svelte-1elqzzh">Save DC = 20 - (highest level of spell the caster is capable of - level
        the spell is being cast at)</p> <p class="svelte-1elqzzh">Roll D20 + spellcasting ability or Con mod (player&#39;s choice)</p> <p class="svelte-1elqzzh">This completely replaces the 5e Concentration mechanic. (Note: This
        inevitably breaks the balance on a few spells, so you may have to tweak
        exactly how they work. The main culprit my players have abused so far is
        Spiritual Guardians.)</p></details>`},m(n,i){F(n,e,i)},d(n){n&&L(e)}}}function nn(t){let e,n,i,l,s,o=[],a=new Map,v,_,h,k,A,w,g,C,m,D,M=ae(t[1]);const N=d=>d[19].title;for(let d=0;d<M.length;d+=1){let S=tn(t,M,d),j=N(S);a.set(j,o[d]=ln(j,S))}return{c(){e=f("div"),n=f("label"),i=f("strong"),i.textContent="Saved Combats:",l=I(),s=f("select");for(let d=0;d<o.length;d+=1)o[d].c();v=I(),_=f("div"),h=f("button"),h.textContent="Delete",k=I(),A=f("button"),A.textContent="Load Saved Combat",c(s,"class","svelte-1elqzzh"),t[2]===void 0&&x(()=>t[8].call(s)),c(n,"class","saved svelte-1elqzzh"),c(h,"class","delete"),c(A,"class","load"),c(_,"class","saved-buttons svelte-1elqzzh")},m(d,S){F(d,e,S),r(e,n),r(n,i),r(n,l),r(n,s);for(let j=0;j<o.length;j+=1)o[j]&&o[j].m(s,null);ye(s,t[2],!0),r(e,v),r(e,_),r(_,h),r(_,k),r(_,A),C=!0,m||(D=[q(s,"change",t[8]),q(h,"click",t[9]),q(A,"click",t[10])],m=!0)},p(d,S){S&2&&(M=ae(d[1]),o=mn(o,S,N,1,d,M,a,s,gn,ln,null,tn)),S&6&&ye(s,d[2])},i(d){C||(d&&x(()=>{C&&(g&&g.end(1),w=xn(e,Fe,{}),w.start())}),C=!0)},o(d){w&&w.invalidate(),d&&(g=ei(e,zi,{})),C=!1},d(d){d&&L(e);for(let S=0;S<o.length;S+=1)o[S].d();d&&g&&g.end(),m=!1,oe(D)}}}function ln(t,e){let n,i=e[19].title+"",l,s;return{key:t,first:null,c(){n=f("option"),l=X(i),n.__value=s=e[19],$(n,n.__value),this.first=n},m(o,a){F(o,n,a),r(n,l)},p(o,a){e=o,a&2&&i!==(i=e[19].title+"")&&be(l,i),a&2&&s!==(s=e[19])&&(n.__value=s,$(n,n.__value))},d(o){o&&L(n)}}}function sn(t){let e,n,i;function l(o){t[13](o,t[16],t[17],t[18])}let s={autoSort:t[5],current:t[16].roundNumber===t[0].currentRoundNumber};return t[16]!==void 0&&(s.round=t[16]),e=new Ti({props:s}),xe.push(()=>ti(e,"round",l)),e.$on("next",t[14]),{c(){ni(e.$$.fragment)},m(o,a){vn(e,o,a),i=!0},p(o,a){t=o;const v={};a&32&&(v.autoSort=t[5]),a&1&&(v.current=t[16].roundNumber===t[0].currentRoundNumber),!n&&a&1&&(n=!0,v.round=t[16],Qn(()=>n=!1)),e.$set(v)},i(o){i||(me(e.$$.fragment,o),i=!0)},o(o){Le(e.$$.fragment,o),i=!1},d(o){bn(e,o)}}}function qi(t){let e,n,i,l=t[3]?` - ${t[3]}`:"",s,o,a=t[0].currentRoundNumber+"",v,_,h,k,A,w,g,C,m,D,M,N,d,S,j,R,O,T=(t[3]??"Not saved")+"",J,W,le=(t[4]??"N/A")+"",V,se,K,P,ee,G,Q=(window==null?void 0:window.location.hostname)!=="localhost"&&(window==null?void 0:window.location.hostname)!=="127.0.0.1"&&Oi(),u=t[1].length&&nn(t),p=ae(t[0].roundsData),b=[];for(let y=0;y<p.length;y+=1)b[y]=sn(en(t,p,y));const E=y=>Le(b[y],1,1,()=>{b[y]=null});return{c(){e=f("header"),n=f("h1"),i=X("Initiative Tracker"),s=X(l),o=X(" - Round: "),v=X(a),_=I(),h=f("button"),h.textContent="Save Combat",k=I(),Q&&Q.c(),A=I(),w=f("main"),u&&u.c(),g=I(),C=f("div"),m=f("input"),D=I(),M=f("label"),M.textContent="Automatically sort by segment when rolling all initiatives",N=I();for(let y=0;y<b.length;y+=1)b[y].c();d=I(),S=f("footer"),j=f("p"),R=f("strong"),R.textContent="Last saved as:",O=I(),J=X(T),W=X(" - Round: "),V=X(le),se=I(),K=f("button"),K.textContent="Save Combat",c(n,"class","svelte-1elqzzh"),c(h,"class","save highlighted svelte-1elqzzh"),c(e,"class","svelte-1elqzzh"),c(m,"type","checkbox"),c(m,"id","auto-sort"),c(M,"for","auto-sort"),c(C,"class","auto-sort svelte-1elqzzh"),c(j,"class","svelte-1elqzzh"),c(K,"class","save highlighted svelte-1elqzzh"),c(S,"class","svelte-1elqzzh")},m(y,z){F(y,e,z),r(e,n),r(n,i),r(n,s),r(n,o),r(n,v),r(e,_),r(e,h),F(y,k,z),Q&&Q.m(y,z),F(y,A,z),F(y,w,z),u&&u.m(w,null),r(w,g),r(w,C),r(C,m),m.checked=t[5],r(C,D),r(C,M),r(w,N);for(let U=0;U<b.length;U+=1)b[U]&&b[U].m(w,null);F(y,d,z),F(y,S,z),r(S,j),r(j,R),r(j,O),r(j,J),r(j,W),r(j,V),r(S,se),r(S,K),P=!0,ee||(G=[q(h,"click",t[7]),q(m,"change",t[11]),q(m,"change",t[12]),q(K,"click",t[15])],ee=!0)},p(y,[z]){if((!P||z&8)&&l!==(l=y[3]?` - ${y[3]}`:"")&&be(s,l),(!P||z&1)&&a!==(a=y[0].currentRoundNumber+"")&&be(v,a),y[1].length?u?(u.p(y,z),z&2&&me(u,1)):(u=nn(y),u.c(),me(u,1),u.m(w,g)):u&&(Bt(),Le(u,1,1,()=>{u=null}),Lt()),z&32&&(m.checked=y[5]),z&33){p=ae(y[0].roundsData);let U;for(U=0;U<p.length;U+=1){const he=en(y,p,U);b[U]?(b[U].p(he,z),me(b[U],1)):(b[U]=sn(he),b[U].c(),me(b[U],1),b[U].m(w,null))}for(Bt(),U=p.length;U<b.length;U+=1)E(U);Lt()}(!P||z&8)&&T!==(T=(y[3]??"Not saved")+"")&&be(J,T),(!P||z&16)&&le!==(le=(y[4]??"N/A")+"")&&be(V,le)},i(y){if(!P){me(u);for(let z=0;z<p.length;z+=1)me(b[z]);P=!0}},o(y){Le(u),b=b.filter(Boolean);for(let z=0;z<b.length;z+=1)Le(b[z]);P=!1},d(y){y&&(L(e),L(k),L(A),L(w),L(d),L(S)),Q&&Q.d(y),u&&u.d(),it(b,y),ee=!1,oe(G)}}}function Bi(t,e,n){let i={currentRoundNumber:1,roundsData:[{roundNumber:1,monsters:[{number:1,alive:!0,name:"",target:"",initiativeDie:ke.NONE,dexBonus:0,extraAttacks:[],status:"",info:""}]}]},l=[],s,o,a,v=!1;function _(){const N=[];for(let d=0;d<localStorage.length;d++){if(console.log(localStorage.key(d)),localStorage.key(d)==="admin"||localStorage.key(d)==="autoSort")continue;const S=JSON.parse(localStorage.getItem(localStorage.key(d)));N.push({title:localStorage.key(d),combat:S})}n(1,l=N)}_n(()=>{_(),localStorage.getItem("autoSort")&&n(5,v=!0)});const h=()=>{const N=window.prompt("Save As:",o);!N||!N.length||(localStorage.setItem(N,JSON.stringify(i)),n(3,o=N),n(4,a=i.currentRoundNumber),_(),n(2,s=l.find(d=>d.title===N)))};function k(){s=Je(this),n(2,s),n(1,l)}const A=()=>{localStorage.removeItem(s.title),n(3,o=void 0),n(4,a=void 0),_()},w=()=>{n(0,i=s.combat),n(3,o=s.title),n(4,a=s.combat.currentRoundNumber)};function g(){v=this.checked,n(5,v)}const C=()=>{v?localStorage.setItem("autoSort","true"):localStorage.removeItem("autoSort")};function m(N,d,S,j){S[j]=N,n(0,i)}return[i,l,s,o,a,v,_,h,k,A,w,g,C,m,N=>{n(0,i.roundsData=[...i.roundsData,N.detail],i),n(0,i.currentRoundNumber=N.detail.roundNumber,i)},()=>{const N=window.prompt("Save As:",o);!N||!N.length||(localStorage.setItem(N,JSON.stringify(i)),n(3,o=N),n(4,a=i.currentRoundNumber),_(),n(2,s=l.find(d=>d.title===N)))}]}class Li extends yn{constructor(e){super(),kn(this,e,Bi,qi,rn,{})}}new Li({target:document.getElementById("app")});
